const Jsl_0x52fa24=Jsl_0x400b;(function(_0xbeaf21,_0x31b739){const _0x24785c=Jsl_0x400b,_0x3c6ff5=_0xbeaf21();while(!![]){try{const _0x157f66=parseInt(_0x24785c(0x1a9))/0x1+parseInt(_0x24785c(0x182))/0x2*(parseInt(_0x24785c(0x199))/0x3)+-parseInt(_0x24785c(0x19d))/0x4+parseInt(_0x24785c(0x1a6))/0x5+parseInt(_0x24785c(0x1a5))/0x6*(parseInt(_0x24785c(0x1a7))/0x7)+parseInt(_0x24785c(0x17c))/0x8*(-parseInt(_0x24785c(0x193))/0x9)+-parseInt(_0x24785c(0x19e))/0xa;if(_0x157f66===_0x31b739)break;else _0x3c6ff5['push'](_0x3c6ff5['shift']());}catch(_0x24ad50){_0x3c6ff5['push'](_0x3c6ff5['shift']());}}}(Jsl_0x396b,0x59a0f));const fs=require('fs'),{tmpdir}=require('os'),Crypto=require('crypto'),ff=require(Jsl_0x52fa24(0x176)),webp=require(Jsl_0x52fa24(0x1a4)),path=require(Jsl_0x52fa24(0x181));function Jsl_0x400b(_0x75c286,_0x5916ee){const _0x396b6a=Jsl_0x396b();return Jsl_0x400b=function(_0x400b56,_0x5bb26f){_0x400b56=_0x400b56-0x175;let _0x41e05b=_0x396b6a[_0x400b56];return _0x41e05b;},Jsl_0x400b(_0x75c286,_0x5916ee);}async function imageToWebp(_0x164432){const _0x3e0579=Jsl_0x52fa24,_0x5830bf=path['join'](tmpdir(),Crypto[_0x3e0579(0x18d)](0x6)['readUIntLE'](0x0,0x6)[_0x3e0579(0x1ac)](0x24)+_0x3e0579(0x17e)),_0x2115e5=path[_0x3e0579(0x1a2)](tmpdir(),Crypto[_0x3e0579(0x18d)](0x6)[_0x3e0579(0x19c)](0x0,0x6)['toString'](0x24)+_0x3e0579(0x179));fs[_0x3e0579(0x18a)](_0x2115e5,_0x164432),await new Promise((_0x25b4f3,_0x2e2f7a)=>{const _0x354e05=_0x3e0579;ff(_0x2115e5)['on'](_0x354e05(0x18f),_0x2e2f7a)['on'](_0x354e05(0x19a),()=>_0x25b4f3(!![]))[_0x354e05(0x17b)](['-vcodec',_0x354e05(0x191),'-vf',_0x354e05(0x185)])[_0x354e05(0x175)](_0x354e05(0x1a0))[_0x354e05(0x1a3)](_0x5830bf);});const _0x2ef06e=fs[_0x3e0579(0x17f)](_0x5830bf);return fs['unlinkSync'](_0x5830bf),fs['unlinkSync'](_0x2115e5),_0x2ef06e;}async function videoToWebp(_0x288f91){const _0x3edcb0=Jsl_0x52fa24,_0x35d350=path[_0x3edcb0(0x1a2)](tmpdir(),Crypto[_0x3edcb0(0x18d)](0x6)[_0x3edcb0(0x19c)](0x0,0x6)['toString'](0x24)+_0x3edcb0(0x17e)),_0x47b1d2=path['join'](tmpdir(),Crypto[_0x3edcb0(0x18d)](0x6)[_0x3edcb0(0x19c)](0x0,0x6)[_0x3edcb0(0x1ac)](0x24)+_0x3edcb0(0x189));fs[_0x3edcb0(0x18a)](_0x47b1d2,_0x288f91),await new Promise((_0x27104b,_0x51f453)=>{const _0x318c32=_0x3edcb0;ff(_0x47b1d2)['on'](_0x318c32(0x18f),_0x51f453)['on'](_0x318c32(0x19a),()=>_0x27104b(!![]))[_0x318c32(0x17b)]([_0x318c32(0x1aa),_0x318c32(0x191),_0x318c32(0x183),'scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse',_0x318c32(0x192),'0',_0x318c32(0x18e),_0x318c32(0x184),'-t',_0x318c32(0x180),_0x318c32(0x1a1),_0x318c32(0x19f),'-an',_0x318c32(0x1ab),'0'])['toFormat']('webp')[_0x318c32(0x1a3)](_0x35d350);});const _0x5c5c19=fs[_0x3edcb0(0x17f)](_0x35d350);return fs['unlinkSync'](_0x35d350),fs[_0x3edcb0(0x187)](_0x47b1d2),_0x5c5c19;}async function writeExifImg(_0x542f98,_0x41556f){const _0x3e1bba=Jsl_0x52fa24;let _0x38b7dd=await imageToWebp(_0x542f98);const _0x3fbc64=path[_0x3e1bba(0x1a2)](tmpdir(),Crypto['randomBytes'](0x6)[_0x3e1bba(0x19c)](0x0,0x6)[_0x3e1bba(0x1ac)](0x24)+_0x3e1bba(0x17e)),_0x3e35ba=path['join'](tmpdir(),Crypto[_0x3e1bba(0x18d)](0x6)[_0x3e1bba(0x19c)](0x0,0x6)[_0x3e1bba(0x1ac)](0x24)+_0x3e1bba(0x17e));fs[_0x3e1bba(0x18a)](_0x3fbc64,_0x38b7dd);if(_0x41556f[_0x3e1bba(0x196)]||_0x41556f[_0x3e1bba(0x198)]){const _0x1962c5=new webp[(_0x3e1bba(0x190))](),_0x9e9e60={'sticker-pack-id':'https://github.com/Afx-Abu/Abu-MD','sticker-pack-name':_0x41556f[_0x3e1bba(0x196)],'sticker-pack-publisher':_0x41556f[_0x3e1bba(0x198)],'emojis':_0x41556f[_0x3e1bba(0x18b)]?_0x41556f[_0x3e1bba(0x18b)]:['']},_0x42d1ad=Buffer[_0x3e1bba(0x188)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x3318c9=Buffer['from'](JSON[_0x3e1bba(0x197)](_0x9e9e60),'utf-8'),_0x4dbb66=Buffer[_0x3e1bba(0x19b)]([_0x42d1ad,_0x3318c9]);return _0x4dbb66['writeUIntLE'](_0x3318c9['length'],0xe,0x4),await _0x1962c5[_0x3e1bba(0x194)](_0x3fbc64),fs['unlinkSync'](_0x3fbc64),_0x1962c5['exif']=_0x4dbb66,await _0x1962c5[_0x3e1bba(0x1a3)](_0x3e35ba),_0x3e35ba;}}async function writeExifVid(_0x156c93,_0x5713d4){const _0x6f9024=Jsl_0x52fa24;let _0x5556c2=await videoToWebp(_0x156c93);const _0x14b3ef=path['join'](tmpdir(),Crypto[_0x6f9024(0x18d)](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+_0x6f9024(0x17e)),_0x370653=path[_0x6f9024(0x1a2)](tmpdir(),Crypto[_0x6f9024(0x18d)](0x6)[_0x6f9024(0x19c)](0x0,0x6)[_0x6f9024(0x1ac)](0x24)+_0x6f9024(0x17e));fs[_0x6f9024(0x18a)](_0x14b3ef,_0x5556c2);if(_0x5713d4[_0x6f9024(0x196)]||_0x5713d4[_0x6f9024(0x198)]){const _0x3c8866=new webp[(_0x6f9024(0x190))](),_0x39daf8={'sticker-pack-id':_0x6f9024(0x195),'sticker-pack-name':_0x5713d4[_0x6f9024(0x196)],'sticker-pack-publisher':_0x5713d4[_0x6f9024(0x198)],'emojis':_0x5713d4[_0x6f9024(0x18b)]?_0x5713d4['categories']:['']},_0x3fc88a=Buffer[_0x6f9024(0x188)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x37b659=Buffer['from'](JSON[_0x6f9024(0x197)](_0x39daf8),_0x6f9024(0x18c)),_0x3aa0f6=Buffer[_0x6f9024(0x19b)]([_0x3fc88a,_0x37b659]);return _0x3aa0f6[_0x6f9024(0x17d)](_0x37b659[_0x6f9024(0x17a)],0xe,0x4),await _0x3c8866['load'](_0x14b3ef),fs[_0x6f9024(0x187)](_0x14b3ef),_0x3c8866['exif']=_0x3aa0f6,await _0x3c8866[_0x6f9024(0x1a3)](_0x370653),_0x370653;}}async function writeExifWebp(_0xdb4aef,_0x4ac430){const _0x54d0c9=Jsl_0x52fa24,_0x5d05f8=path[_0x54d0c9(0x1a2)](tmpdir(),Crypto[_0x54d0c9(0x18d)](0x6)[_0x54d0c9(0x19c)](0x0,0x6)[_0x54d0c9(0x1ac)](0x24)+_0x54d0c9(0x17e)),_0x3309b3=path[_0x54d0c9(0x1a2)](tmpdir(),Crypto[_0x54d0c9(0x18d)](0x6)[_0x54d0c9(0x19c)](0x0,0x6)[_0x54d0c9(0x1ac)](0x24)+_0x54d0c9(0x17e));fs[_0x54d0c9(0x18a)](_0x5d05f8,_0xdb4aef);if(_0x4ac430[_0x54d0c9(0x196)]||_0x4ac430['author']){const _0xf00b2e=new webp[(_0x54d0c9(0x190))](),_0x234c51={'sticker-pack-id':_0x54d0c9(0x195),'sticker-pack-name':_0x4ac430[_0x54d0c9(0x196)],'sticker-pack-publisher':_0x4ac430[_0x54d0c9(0x198)],'emojis':_0x4ac430[_0x54d0c9(0x18b)]?_0x4ac430[_0x54d0c9(0x18b)]:['']},_0x480f63=await Buffer[_0x54d0c9(0x188)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x5c28b4=await Buffer[_0x54d0c9(0x188)](JSON['stringify'](_0x234c51),_0x54d0c9(0x18c)),_0x1ecc72=await Buffer[_0x54d0c9(0x19b)]([_0x480f63,_0x5c28b4]);return await _0x1ecc72[_0x54d0c9(0x17d)](_0x5c28b4[_0x54d0c9(0x17a)],0xe,0x4),await _0xf00b2e[_0x54d0c9(0x194)](_0x5d05f8),fs['unlinkSync'](_0x5d05f8),_0xf00b2e[_0x54d0c9(0x178)]=_0x1ecc72,await _0xf00b2e['save'](_0x3309b3),_0x3309b3;}}_0x4f272d:config[Jsl_0x52fa24(0x1a8)][Jsl_0x52fa24(0x186)]()===Jsl_0x52fa24(0x177),module['exports']={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExifWebp':writeExifWebp,'isPublic':isPublic};function Jsl_0x396b(){const _0x43e5a3=['default','webp','-preset','join','save','node-webpmux','78dYZQTd','3487535AOylUf','54229NmHOqP','MODE','90428UMOBGl','-vcodec','-vsync','toString','toFormat','fluent-ffmpeg','public','exif','.jpg','length','addOutputOptions','632EcdRYQ','writeUIntLE','.webp','readFileSync','00:00:05','path','214204uCxlXO','-vf','00:00:00','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','toLowerCase','unlinkSync','from','.mp4','writeFileSync','categories','utf-8','randomBytes','-ss','error','Image','libwebp','-loop','16767RWbUbI','load','https://github.com/Afx-Abu/Abu-MD','packname','stringify','author','6hQprwo','end','concat','readUIntLE','737920hYbaOL','4040740kwzzAV'];Jsl_0x396b=function(){return _0x43e5a3;};return Jsl_0x396b();}
