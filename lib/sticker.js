const Jsl_0x50e335=Jsl_0x1572;(function(_0x369999,_0x4c9594){const _0x14144b=Jsl_0x1572,_0x256d08=_0x369999();while(!![]){try{const _0x575f81=-parseInt(_0x14144b(0x1ae))/0x1+parseInt(_0x14144b(0x18f))/0x2*(parseInt(_0x14144b(0x1b5))/0x3)+-parseInt(_0x14144b(0x19a))/0x4+parseInt(_0x14144b(0x198))/0x5*(parseInt(_0x14144b(0x18b))/0x6)+parseInt(_0x14144b(0x195))/0x7*(parseInt(_0x14144b(0x19d))/0x8)+-parseInt(_0x14144b(0x18d))/0x9*(-parseInt(_0x14144b(0x1a7))/0xa)+-parseInt(_0x14144b(0x1a5))/0xb;if(_0x575f81===_0x4c9594)break;else _0x256d08['push'](_0x256d08['shift']());}catch(_0x4c08b6){_0x256d08['push'](_0x256d08['shift']());}}}(Jsl_0x54a3,0xe43d0));function Jsl_0x54a3(){const _0x538882=['3320yJEAya','author','3691824COnCpt','webp','00:00:05','16zcDyKn','path','writeFileSync','public','node-webpmux','toFormat','-loop','-vf','34840036vfVxQf','toString','222990SiXZVo','fluent-ffmpeg','join','addOutputOptions','packname','-ss','.webp','369167lBnZxr','randomBytes','load','length','error','end','-preset','1873965uoUhQL','concat','-vcodec','from','unlinkSync','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','libwebp','exif','save','crypto','../config','default','writeUIntLE','Image','stringify','https://github.com/Afx-Abu/Abu-MD','16518qeJvOM','00:00:00','297XqBBbJ','-vsync','4dgXiPz','.jpg','exports','categories','readUIntLE','utf-8','5533829NBTJrr','MODE','readFileSync'];Jsl_0x54a3=function(){return _0x538882;};return Jsl_0x54a3();}const fs=require('fs'),config=require(Jsl_0x50e335(0x1bf)),{tmpdir}=require('os'),Crypto=require(Jsl_0x50e335(0x1be)),ff=require(Jsl_0x50e335(0x1a8)),webp=require(Jsl_0x50e335(0x1a1)),path=require(Jsl_0x50e335(0x19e));async function imageToWebp(_0x53addc){const _0x25e2ae=Jsl_0x50e335,_0x556e7e=path[_0x25e2ae(0x1a9)](tmpdir(),Crypto[_0x25e2ae(0x1af)](0x6)[_0x25e2ae(0x193)](0x0,0x6)[_0x25e2ae(0x1a6)](0x24)+_0x25e2ae(0x1ad)),_0x495021=path[_0x25e2ae(0x1a9)](tmpdir(),Crypto[_0x25e2ae(0x1af)](0x6)[_0x25e2ae(0x193)](0x0,0x6)[_0x25e2ae(0x1a6)](0x24)+_0x25e2ae(0x190));fs[_0x25e2ae(0x19f)](_0x495021,_0x53addc),await new Promise((_0x2d08fc,_0x254d11)=>{const _0x53940b=_0x25e2ae;ff(_0x495021)['on'](_0x53940b(0x1b2),_0x254d11)['on'](_0x53940b(0x1b3),()=>_0x2d08fc(!![]))['addOutputOptions']([_0x53940b(0x1b7),_0x53940b(0x1bb),_0x53940b(0x1a4),_0x53940b(0x1ba)])['toFormat'](_0x53940b(0x19b))[_0x53940b(0x1bd)](_0x556e7e);});const _0x2054d5=fs[_0x25e2ae(0x197)](_0x556e7e);return fs[_0x25e2ae(0x1b9)](_0x556e7e),fs[_0x25e2ae(0x1b9)](_0x495021),_0x2054d5;}async function videoToWebp(_0x438898){const _0x3981c7=Jsl_0x50e335,_0xa4c614=path[_0x3981c7(0x1a9)](tmpdir(),Crypto[_0x3981c7(0x1af)](0x6)[_0x3981c7(0x193)](0x0,0x6)['toString'](0x24)+_0x3981c7(0x1ad)),_0x4d5478=path[_0x3981c7(0x1a9)](tmpdir(),Crypto[_0x3981c7(0x1af)](0x6)[_0x3981c7(0x193)](0x0,0x6)['toString'](0x24)+'.mp4');fs[_0x3981c7(0x19f)](_0x4d5478,_0x438898),await new Promise((_0x6ad5ee,_0x2ccc21)=>{const _0x5a2766=_0x3981c7;ff(_0x4d5478)['on']('error',_0x2ccc21)['on'](_0x5a2766(0x1b3),()=>_0x6ad5ee(!![]))[_0x5a2766(0x1aa)]([_0x5a2766(0x1b7),'libwebp',_0x5a2766(0x1a4),_0x5a2766(0x1ba),_0x5a2766(0x1a3),'0',_0x5a2766(0x1ac),_0x5a2766(0x18c),'-t',_0x5a2766(0x19c),_0x5a2766(0x1b4),_0x5a2766(0x186),'-an',_0x5a2766(0x18e),'0'])[_0x5a2766(0x1a2)](_0x5a2766(0x19b))[_0x5a2766(0x1bd)](_0xa4c614);});const _0x586fb7=fs[_0x3981c7(0x197)](_0xa4c614);return fs['unlinkSync'](_0xa4c614),fs[_0x3981c7(0x1b9)](_0x4d5478),_0x586fb7;}async function writeExifImg(_0x5d227a,_0x1dc118){const _0x2f00a0=Jsl_0x50e335;let _0x1aea33=await imageToWebp(_0x5d227a);const _0x461208=path[_0x2f00a0(0x1a9)](tmpdir(),Crypto[_0x2f00a0(0x1af)](0x6)[_0x2f00a0(0x193)](0x0,0x6)[_0x2f00a0(0x1a6)](0x24)+_0x2f00a0(0x1ad)),_0x3f8131=path['join'](tmpdir(),Crypto[_0x2f00a0(0x1af)](0x6)[_0x2f00a0(0x193)](0x0,0x6)[_0x2f00a0(0x1a6)](0x24)+'.webp');fs[_0x2f00a0(0x19f)](_0x461208,_0x1aea33);if(_0x1dc118[_0x2f00a0(0x1ab)]||_0x1dc118[_0x2f00a0(0x199)]){const _0x1605da=new webp[(_0x2f00a0(0x188))](),_0x3af082={'sticker-pack-id':_0x2f00a0(0x18a),'sticker-pack-name':_0x1dc118[_0x2f00a0(0x1ab)],'sticker-pack-publisher':_0x1dc118[_0x2f00a0(0x199)],'emojis':_0x1dc118[_0x2f00a0(0x192)]?_0x1dc118[_0x2f00a0(0x192)]:['']},_0x17c3a5=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x37807e=Buffer[_0x2f00a0(0x1b8)](JSON[_0x2f00a0(0x189)](_0x3af082),_0x2f00a0(0x194)),_0x575343=Buffer['concat']([_0x17c3a5,_0x37807e]);return _0x575343[_0x2f00a0(0x187)](_0x37807e[_0x2f00a0(0x1b1)],0xe,0x4),await _0x1605da[_0x2f00a0(0x1b0)](_0x461208),fs[_0x2f00a0(0x1b9)](_0x461208),_0x1605da['exif']=_0x575343,await _0x1605da[_0x2f00a0(0x1bd)](_0x3f8131),_0x3f8131;}}async function writeExifVid(_0x37032b,_0x49d7f8){const _0x186ad2=Jsl_0x50e335;let _0xb7b888=await videoToWebp(_0x37032b);const _0x4a7ed1=path[_0x186ad2(0x1a9)](tmpdir(),Crypto[_0x186ad2(0x1af)](0x6)[_0x186ad2(0x193)](0x0,0x6)['toString'](0x24)+'.webp'),_0x36025a=path[_0x186ad2(0x1a9)](tmpdir(),Crypto[_0x186ad2(0x1af)](0x6)['readUIntLE'](0x0,0x6)[_0x186ad2(0x1a6)](0x24)+_0x186ad2(0x1ad));fs[_0x186ad2(0x19f)](_0x4a7ed1,_0xb7b888);if(_0x49d7f8['packname']||_0x49d7f8[_0x186ad2(0x199)]){const _0x1002ef=new webp[(_0x186ad2(0x188))](),_0x1f6d25={'sticker-pack-id':_0x186ad2(0x18a),'sticker-pack-name':_0x49d7f8[_0x186ad2(0x1ab)],'sticker-pack-publisher':_0x49d7f8[_0x186ad2(0x199)],'emojis':_0x49d7f8[_0x186ad2(0x192)]?_0x49d7f8[_0x186ad2(0x192)]:['']},_0x1cc092=Buffer[_0x186ad2(0x1b8)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0xf337bc=Buffer[_0x186ad2(0x1b8)](JSON[_0x186ad2(0x189)](_0x1f6d25),_0x186ad2(0x194)),_0x303417=Buffer[_0x186ad2(0x1b6)]([_0x1cc092,_0xf337bc]);return _0x303417[_0x186ad2(0x187)](_0xf337bc['length'],0xe,0x4),await _0x1002ef[_0x186ad2(0x1b0)](_0x4a7ed1),fs['unlinkSync'](_0x4a7ed1),_0x1002ef[_0x186ad2(0x1bc)]=_0x303417,await _0x1002ef[_0x186ad2(0x1bd)](_0x36025a),_0x36025a;}}function Jsl_0x1572(_0x7877d,_0x39fcd6){const _0x54a34a=Jsl_0x54a3();return Jsl_0x1572=function(_0x157297,_0x38dbb3){_0x157297=_0x157297-0x186;let _0x400884=_0x54a34a[_0x157297];return _0x400884;},Jsl_0x1572(_0x7877d,_0x39fcd6);}async function writeExifWebp(_0x4fc930,_0xe7f2ef){const _0x1a29af=Jsl_0x50e335,_0x513cca=path[_0x1a29af(0x1a9)](tmpdir(),Crypto['randomBytes'](0x6)[_0x1a29af(0x193)](0x0,0x6)[_0x1a29af(0x1a6)](0x24)+_0x1a29af(0x1ad)),_0x3b15a=path['join'](tmpdir(),Crypto[_0x1a29af(0x1af)](0x6)[_0x1a29af(0x193)](0x0,0x6)[_0x1a29af(0x1a6)](0x24)+_0x1a29af(0x1ad));fs[_0x1a29af(0x19f)](_0x513cca,_0x4fc930);if(_0xe7f2ef[_0x1a29af(0x1ab)]||_0xe7f2ef[_0x1a29af(0x199)]){const _0x57f183=new webp[(_0x1a29af(0x188))](),_0xf2d315={'sticker-pack-id':'https://github.com/Afx-Abu/Abu-MD','sticker-pack-name':_0xe7f2ef['packname'],'sticker-pack-publisher':_0xe7f2ef[_0x1a29af(0x199)],'emojis':_0xe7f2ef[_0x1a29af(0x192)]?_0xe7f2ef['categories']:['']},_0x12fb8c=await Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0xa3d31c=await Buffer[_0x1a29af(0x1b8)](JSON['stringify'](_0xf2d315),'utf-8'),_0x5f12d2=await Buffer[_0x1a29af(0x1b6)]([_0x12fb8c,_0xa3d31c]);return await _0x5f12d2[_0x1a29af(0x187)](_0xa3d31c[_0x1a29af(0x1b1)],0xe,0x4),await _0x57f183['load'](_0x513cca),fs[_0x1a29af(0x1b9)](_0x513cca),_0x57f183[_0x1a29af(0x1bc)]=_0x5f12d2,await _0x57f183[_0x1a29af(0x1bd)](_0x3b15a),_0x3b15a;}}_0x9c731c:config[Jsl_0x50e335(0x196)]['toLowerCase']()===Jsl_0x50e335(0x1a0),module[Jsl_0x50e335(0x191)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExifWebp':writeExifWebp,'isPublic':isPublic};
